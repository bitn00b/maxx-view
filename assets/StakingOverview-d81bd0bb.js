import{d as Y,g as re,b as fe,C as ce,S as K,i as Q,s as Z,f as M,e as C,t as g,a as h,c as V,h as c,j as y,k as X,n as z,l as m,M as me,m as pe,o as _e,P as we,r as G,p as j,q as ke,u as be,v as L,w as H,x as Ae,y as B,z as E,A as U,B as ye,D as oe,E as Ce,F as ee,G as ge,H as ue,I as de,J as Se,K as te,L as he,N as De}from"./index-9ebc25d5.js";const Re="0x2D653c7256e5977B235421fD267E5623B8Cf8fcd",Pe="0x06a1A9D831590Fa7074E16B53B855364D7e0f5bB",ve="0x3324aD43BE713A2EAAffC4a548C4287270BFE18d",We=[{inputs:[{internalType:"address",name:"",type:"address"}],name:"stakerVaultPWRD",outputs:[{internalType:"uint256",name:"stakedMAXXPWRD",type:"uint256"},{internalType:"uint256",name:"stakedSince",type:"uint256"},{internalType:"uint256",name:"stakedTill",type:"uint256"},{internalType:"uint256",name:"PWRDlastClaim",type:"uint256"},{internalType:"uint256",name:"PWRDClaimed",type:"uint256"},{internalType:"uint256",name:"PWRDDays",type:"uint256"},{internalType:"bool",name:"isStaked",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"viewRewardsEst",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PWRDFee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PWR_Fee",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PWRDPoolExp",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"PWRDPoolInfo",outputs:[{internalType:"uint256",name:"Stakers",type:"uint256"},{internalType:"uint256",name:"TokenAmt",type:"uint256"}],stateMutability:"view",type:"function"}];async function Te(t,e){return await t.methods[e]().call()}function $e(){const t={};return{get:(e,n)=>t[e]??(t[e]=n())}}const Be={maxx:Re,bsc:ve,eth:Pe},x=t=>re(Be[t],t,We);async function Xe(t,e){const s=await(await x(t)).methods.stakerVaultPWRD(e).call();return{stakedSince:s.stakedSince,stakedTill:s.stakedTill,PWRDDays:s.PWRDDays,PWRDlastClaim:s.PWRDlastClaim,isStaked:s.isStaked,stakedMAXXPWRD:s.stakedMAXXPWRD/Y,PWRDClaimed:s.PWRDClaimed/Y}}async function Me(t,e){const s=await(await x(t)).methods.viewRewardsEst(e).call();return Number.parseInt(s)/Y}const Ee=$e();function Ie(t){return Ee.get(t,async()=>{const e=await x(t);return await Te(e,t==="maxx"?"PWR_Fee":"PWRDFee")})}async function ne(t,e,n,s=Y){return await(await re(n,t,[fe])).methods.balanceOf(e).call()/s}async function Ne(t,e,n=Y){const s=await ce[t];return Number.parseFloat(await s.eth.getBalance(e))/n}function se(t){let e,n=t[3].PWRDDays+"",s,a,r=new Date(t[3].stakedTill*1e3).toLocaleDateString()+"",i,_,w;return{c(){e=g(`-
         Duration: `),s=g(n),a=g(` -
         until `),i=g(r),_=h(),w=C("br")},m(u,l){c(u,e,l),c(u,s,l),c(u,a,l),c(u,i,l),c(u,_,l),c(u,w,l)},p(u,l){l&8&&n!==(n=u[3].PWRDDays+"")&&X(s,n),l&8&&r!==(r=new Date(u[3].stakedTill*1e3).toLocaleDateString()+"")&&X(i,r)},d(u){u&&(m(e),m(s),m(a),m(i),m(_),m(w))}}}function Oe(t){let e,n,s;return{c(){e=C("td"),n=h(),s=C("td")},m(a,r){c(a,e,r),c(a,n,r),c(a,s,r)},p:z,d(a){a&&(m(e),m(n),m(s))}}}function Fe(t){let e,n=M(t[3].stakedMAXXPWRD)+"",s,a,r,i,_=M(t[3].PWRDClaimed)+"",w,u;return{c(){e=C("td"),s=g(n),a=g(" $MAXX"),r=h(),i=C("td"),w=g(_),u=g(" PWR")},m(l,d){c(l,e,d),y(e,s),y(e,a),c(l,r,d),c(l,i,d),y(i,w),y(i,u)},p(l,d){d&8&&n!==(n=M(l[3].stakedMAXXPWRD)+"")&&X(s,n),d&8&&_!==(_=M(l[3].PWRDClaimed)+"")&&X(w,_)},d(l){l&&(m(e),m(r),m(i))}}}function je(t){let e;return{c(){e=C("td")},m(n,s){c(n,e,s)},p:z,d(n){n&&m(e)}}}function Le(t){let e,n=M(t[5])+"",s,a;return{c(){e=C("td"),s=g(n),a=g(" PWR")},m(r,i){c(r,e,i),y(e,s),y(e,a)},p(r,i){i&32&&n!==(n=M(r[5])+"")&&X(s,n)},d(r){r&&m(e)}}}function He(t){let e,n,s=t[0].toUpperCase()+"",a,r,i=t[3].isStaked?"Staked":"Not Staked",_,w,u,l,d,D=M(t[4].maxxAmount,"0")+"",S,b,T,o,p=M(t[4].pwrAmount,"0")+"",W,f,R,I,P=t[3].isStaked&&se(t);function N(A,v){return A[3].isStaked?Fe:Oe}let O=N(t),$=O(t);function q(A,v){return A[5]?Le:je}let F=q(t),k=F(t);return{c(){e=C("tr"),n=C("td"),a=g(s),r=g(` -

      `),_=g(i),w=h(),P&&P.c(),u=h(),l=C("tr"),d=C("td"),S=g(D),b=g(" $MAXX "),T=C("br"),o=h(),W=g(p),f=g(" PWR"),R=h(),$.c(),I=h(),k.c(),V(n,"colspan","5"),V(e,"class",t[1]),V(l,"class",t[1])},m(A,v){c(A,e,v),y(e,n),y(n,a),y(n,r),y(n,_),y(n,w),P&&P.m(n,null),c(A,u,v),c(A,l,v),y(l,d),y(d,S),y(d,b),y(d,T),y(d,o),y(d,W),y(d,f),y(l,R),$.m(l,null),y(l,I),k.m(l,null)},p(A,[v]){v&1&&s!==(s=A[0].toUpperCase()+"")&&X(a,s),v&8&&i!==(i=A[3].isStaked?"Staked":"Not Staked")&&X(_,i),A[3].isStaked?P?P.p(A,v):(P=se(A),P.c(),P.m(n,null)):P&&(P.d(1),P=null),v&2&&V(e,"class",A[1]),v&16&&D!==(D=M(A[4].maxxAmount,"0")+"")&&X(S,D),v&16&&p!==(p=M(A[4].pwrAmount,"0")+"")&&X(W,p),O===(O=N(A))&&$?$.p(A,v):($.d(1),$=O(A),$&&($.c(),$.m(l,I))),F===(F=q(A))&&k?k.p(A,v):(k.d(1),k=F(A),k&&(k.c(),k.m(l,null))),v&2&&V(l,"class",A[1])},i:z,o:z,d(A){A&&(m(e),m(u),m(l)),P&&P.d(),$.d(),k.d()}}}function Ue(t,e,n){var O,$,q,F;let s,a=z,r=()=>(a(),a=be(D,k=>n(10,s=k)),D),i,_,w;t.$$.on_destroy.push(()=>a());let{chain:u}=e,{walletAddress:l}=e,{rowClass:d}=e,{refresher:D}=e;r();const S={maxx:(O=me.chainAddresses)==null?void 0:O.tokenAddress,bsc:($=pe.chainAddresses)==null?void 0:$.tokenAddress,eth:(q=_e.chainAddresses)==null?void 0:q.tokenAddress},b={maxx:(F=we.chainAddresses)==null?void 0:F.tokenAddress,bsc:"0x467833Bad9eB455229E118Af9A12f3C579c7f11C",eth:"0x0bE5DA34c333804b793a3B3B31C3203B2BdD7e94"},{store:T}=G(()=>Ie(u)),{store:o,refresh:p}=G(()=>Xe(u,l),{isStaked:!1});j(t,o,k=>n(3,i=k));const{store:W,refresh:f}=G(()=>Me(u,l),0),R=ke([T,W],([k,A])=>A/100*(100-k));j(t,R,k=>n(5,w=k));const{store:I,refresh:P}=G(()=>Promise.all([ne(u,l,S[u]),ne(u,l,b[u]),u==="maxx"?Ne(u,l):void 0]).then(([k,A,v])=>({maxxAmount:k,pwrAmount:A+(v||0)})),{});j(t,I,k=>n(4,_=k));async function N(){await p(),await f(),await P()}return t.$$set=k=>{"chain"in k&&n(0,u=k.chain),"walletAddress"in k&&n(9,l=k.walletAddress),"rowClass"in k&&n(1,d=k.rowClass),"refresher"in k&&r(n(2,D=k.refresher))},t.$$.update=()=>{t.$$.dirty&1024&&s!==0&&N()},[u,d,D,i,_,w,o,R,I,l,s]}class J extends K{constructor(e){super(),Q(this,e,Ue,He,Z,{chain:0,walletAddress:9,rowClass:1,refresher:2})}}function qe(t){let e,n,s=t[2].toLocaleTimeString()+"",a,r,i,_,w,u,l,d,D,S,b,T,o,p,W;return d=new J({props:{chain:"maxx",rowClass:"odd",walletAddress:t[0]}}),S=new J({props:{chain:"eth",rowClass:"even",walletAddress:t[0]}}),T=new J({props:{chain:"bsc",rowClass:"odd",walletAddress:t[0]}}),{c(){e=C("button"),e.textContent="refresh",n=g(`

Updated at: `),a=g(s),r=h(),i=C("table"),_=C("tr"),_.innerHTML='<td class="svelte-1aiad7j">Holding</td> <td class="svelte-1aiad7j">Staked $MAXX</td> <td class="svelte-1aiad7j">Claimed PWR</td> <td class="svelte-1aiad7j">Claimable PWR</td>',w=h(),u=C("tr"),u.innerHTML='<td class="svelte-1aiad7j"></td> <td class="svelte-1aiad7j"></td> <td class="svelte-1aiad7j"></td> <td class="svelte-1aiad7j">Fee applied</td>',l=h(),L(d.$$.fragment),D=h(),L(S.$$.fragment),b=h(),L(T.$$.fragment)},m(f,R){c(f,e,R),c(f,n,R),c(f,a,R),c(f,r,R),c(f,i,R),y(i,_),y(i,w),y(i,u),y(i,l),H(d,i,null),y(i,D),H(S,i,null),y(i,b),H(T,i,null),o=!0,p||(W=Ae(e,"click",t[4]),p=!0)},p(f,[R]){(!o||R&4)&&s!==(s=f[2].toLocaleTimeString()+"")&&X(a,s);const I={};R&1&&(I.walletAddress=f[0]),d.$set(I);const P={};R&1&&(P.walletAddress=f[0]),S.$set(P);const N={};R&1&&(N.walletAddress=f[0]),T.$set(N)},i(f){o||(B(d.$$.fragment,f),B(S.$$.fragment,f),B(T.$$.fragment,f),o=!0)},o(f){E(d.$$.fragment,f),E(S.$$.fragment,f),E(T.$$.fragment,f),o=!1},d(f){f&&(m(e),m(n),m(a),m(r),m(i)),U(d),U(S),U(T),p=!1,W()}}}function Ve(t,e,n){let s,a,{walletAddress:r}=e;const i=ye(0);j(t,i,w=>n(1,a=w));const _=()=>oe(i,a++,a);return t.$$set=w=>{"walletAddress"in w&&n(0,r=w.walletAddress)},t.$$.update=()=>{t.$$.dirty&2&&n(2,s=a?new Date:new Date)},[r,a,s,i,_]}class Ye extends K{constructor(e){super(),Q(this,e,Ve,qe,Z,{walletAddress:0})}}function ae(t,e,n){const s=t.slice();return s[3]=e[n],s}function ze(t){let e;return{c(){e=g("Edit Wallets")},m(n,s){c(n,e,s)},d(n){n&&m(e)}}}function le(t){let e,n,s=t[3].name+"",a,r,i,_,w,u;return w=new De({props:{style:"overflow-y: auto",$$slots:{default:[Ge]},$$scope:{ctx:t}}}),{c(){e=C("br"),n=h(),a=g(s),r=h(),i=C("br"),_=h(),L(w.$$.fragment)},m(l,d){c(l,e,d),c(l,n,d),c(l,a,d),c(l,r,d),c(l,i,d),c(l,_,d),H(w,l,d),u=!0},p(l,d){(!u||d&2)&&s!==(s=l[3].name+"")&&X(a,s);const D={};d&66&&(D.$$scope={dirty:d,ctx:l}),w.$set(D)},i(l){u||(B(w.$$.fragment,l),u=!0)},o(l){E(w.$$.fragment,l),u=!1},d(l){l&&(m(e),m(n),m(a),m(r),m(i),m(_)),U(w,l)}}}function Ge(t){let e,n;return e=new Ye({props:{walletAddress:t[3].wallet}}),{c(){L(e.$$.fragment)},m(s,a){H(e,s,a),n=!0},p(s,a){const r={};a&2&&(r.walletAddress=s[3].wallet),e.$set(r)},i(s){n||(B(e.$$.fragment,s),n=!0)},o(s){E(e.$$.fragment,s),n=!1},d(s){U(e,s)}}}function ie(t){let e,n,s,a=t[3].wallet&&le(t);return{c(){a&&a.c(),e=h(),n=C("br")},m(r,i){a&&a.m(r,i),c(r,e,i),c(r,n,i),s=!0},p(r,i){r[3].wallet?a?(a.p(r,i),i&2&&B(a,1)):(a=le(r),a.c(),B(a,1),a.m(e.parentNode,e)):a&&(ue(),E(a,1,1,()=>{a=null}),de())},i(r){s||(B(a),s=!0)},o(r){E(a),s=!1},d(r){r&&(m(e),m(n)),a&&a.d(r)}}}function Je(t){let e,n,s,a,r,i,_,w,u,l,d,D;_=new Ce({props:{compact:!0,$$slots:{default:[ze]},$$scope:{ctx:t}}}),_.$on("click",t[2]);let S=ee(t[1]),b=[];for(let o=0;o<S.length;o+=1)b[o]=ie(ae(t,S,o));const T=o=>E(b[o],1,1,()=>{b[o]=null});return{c(){e=C("br"),n=h(),s=C("br"),a=h(),r=C("br"),i=h(),L(_.$$.fragment),w=g(`

Note: design / layout will be improved in the future

`),u=C("br"),l=h();for(let o=0;o<b.length;o+=1)b[o].c();d=ge()},m(o,p){c(o,e,p),c(o,n,p),c(o,s,p),c(o,a,p),c(o,r,p),c(o,i,p),H(_,o,p),c(o,w,p),c(o,u,p),c(o,l,p);for(let W=0;W<b.length;W+=1)b[W]&&b[W].m(o,p);c(o,d,p),D=!0},p(o,[p]){const W={};if(p&64&&(W.$$scope={dirty:p,ctx:o}),_.$set(W),p&2){S=ee(o[1]);let f;for(f=0;f<S.length;f+=1){const R=ae(o,S,f);b[f]?(b[f].p(R,p),B(b[f],1)):(b[f]=ie(R),b[f].c(),B(b[f],1),b[f].m(d.parentNode,d))}for(ue(),f=S.length;f<b.length;f+=1)T(f);de()}},i(o){if(!D){B(_.$$.fragment,o);for(let p=0;p<S.length;p+=1)B(b[p]);D=!0}},o(o){E(_.$$.fragment,o),b=b.filter(Boolean);for(let p=0;p<b.length;p+=1)E(b[p]);D=!1},d(o){o&&(m(e),m(n),m(s),m(a),m(r),m(i),m(w),m(u),m(l),m(d)),U(_,o),Se(b,o)}}}function Ke(t,e,n){let s,a;return j(t,te,i=>n(0,s=i)),j(t,he,i=>n(1,a=i)),[s,a,()=>oe(te,s=!0,s)]}class Ze extends K{constructor(e){super(),Q(this,e,Ke,Je,Z,{})}}export{Ze as default};
